{% extends 'notebook/base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'notebook/css/base.css' %}">
<link rel="stylesheet" href="{% static 'notebook/css/vendor.css' %}">
<link rel="stylesheet" href="{% static 'notebook/css/main.css' %}">
{% endblock css %}

{% block body %}

<body id="top">
    <!-- s-content
    ================================================== -->
    <section class="s-content">

        <div class="row narrow">
            <div class="col-full s-content__header">
                <h1>Öykülerimiz</h1>

                <p class="lead">Bütün tüm hepsi bütün hikayeler
                </p>
            </div>
        </div>

        <div class="row masonry-wrap">
            <div class="masonry infinite-container" id="infinite-container">

                <div class="grid-sizer"></div>

                {% for narrative in narratives %}

                <article class="infinite-item masonry__brick entry format-standard">

                    <div class="entry__text">
                        <div class="entry__header">

                            <div class="entry__date">
                                <a href="single-standard.html">{{ narrative.created_at }}</a>
                            </div>
                            <h1 class="entry__title"><a
                                    href="{{ narrative.get_absolute_url }}">{{ narrative.title }}</a>
                            </h1>

                        </div>
                        {% if narrative.lead %}
                        <div class="entry__excerpt">
                            <p>
                                {{ narrative.lead }}
                            </p>
                        </div>
                        {% endif %}
                        {% if narrative.tagman.has_tags %}
                        <div class="entry__meta">
                            <span class="entry__meta-links">
                                {% for tag in narrative.tagman.display %}
                                <a href="#">{{ tag.abstract.name }}</a>
                                {% endfor %}
                            </span>
                        </div>
                        {% endif %}
                    </div>

                </article> <!-- end article -->
                {% endfor %}
            </div> <!-- end masonry -->

            {% if page_obj.has_next %}
            <a style="display:none;" class="infinite-more-link" href="?page={{ page_obj.next_page_number }}">More</a>
            {% endif %}

            <div class="d-flex justify-content-center" style="display:none;">
                <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
        </div> <!-- end masonry-wrap -->

    </section> <!-- s-content -->
    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader">
            <div class="line-scale">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>


    <!-- Java Script
    ================================================== -->
    <script src="{% static 'notebook/js/jquery-3.2.1.min.js' %}"></script>
    <!--<script src="{% static 'notebook/js/plugins.js' %}"></script> -->
    <script src="{% static 'notebook/js/main.js' %}"></script>
    <script src="{% static 'notebook/js/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'notebook/js/infinite.min.js' %}"></script>
    <script>
        var infinite = new Waypoint.Infinite({
            element: $('.infinite-container')[0],
        });
    </script>
</body>

{% endblock body %}